# Codex差分レビュー（開発Repo）

## Description
ローカルGitリポジトリの差分を **Codex CLI** でレビューするための“段取り”を固定化します。

目的:
- Claude Code / Cursor で実装 → Codex で差分レビュー → 修正反映、の流れを迷わず回す
- サンプル（CSV/Excel）や成果物の **Git混入事故** を防ぐ

## Prompt
次の手順で進めてください。

### 1) チェックポイント（推奨: ステージして差分を固定）
1. `git status` を実行して、変更/未追跡を確認
2. `git diff` を実行して、未ステージ差分を確認
3. レビュー対象の変更だけを `git add -p`（または `git add <file>`）でステージする（WIPは未ステージのままでOK）
4. `git diff --staged` を実行して、レビュー対象の差分を確定させる
   - やり直す場合: `git restore --staged <file>`

### 2) “混入チェック”（重要）
次を確認して、追跡されていたら除外案を提示してください。
- `samples/` 配下
- `deliverables/` 配下
- 実データ（例: `*.csv`, `*.xlsx`）

（必要なら）対処の定番:
- `.gitignore` に除外を追加
- すでに追跡されている場合は `git rm --cached <path>`（ローカルには残す）

### 3) Codexに依頼する（貼り付け用文面を作る）
以下を1つのブロックにまとめて出力してください（ユーザーが `codex` ターミナルに貼れる形）。

- 依頼文の骨子: `System/prompts/20251219_Codex差分レビュー.md` の「プロンプト本文」
- 付ける情報:
  - いまの `git status` の結果（要点だけでOK）
  - レビュー観点（例: 既存仕様維持、サンプル混入NG、テスト観点）
  - もし特定ファイルを重点的に見たいなら、そのパス

### 4) 次アクションの確認
最後にユーザーへ確認:
- 「Codexターミナルで `codex` を起動して `/review` しましたか？」
- 「Codexの指摘（コピペ可）を貼ってください。反映方針を一緒に決めます」

関連:
- [[System/prompts/20251219_Codex差分レビュー]]
