---
title: "運用フロー（2本柱: 情報整理 / 開発）"
tags: [system, workflow]
created: 2025-12-18
---

# 運用フロー（2本柱: 情報整理 / 開発）

このVaultは **2つの運用フロー**だけ覚えれば回るようにしています。

- **フローA: 情報整理**（入口: `Calendar/inbox/`）
- **フローB: 開発**（入口: `~/Workspaces/projects/<project>/`）

> 結論: 「ノートはiCloud（SecondBrain）」「コードはローカル（Workspaces + GitHub）」で分ける。

---

## フローA: 情報整理（入口: Calendar/inbox）

### A0. キャプチャ（0〜30秒）
- **保存先**: `Calendar/inbox/`
- **やること**: 1行でもOK。URLだけでもOK。
- **使うアプリ**: Obsidian（iPhone/Mac, Web Clipper）

固定化ポイント（推奨）:
  - Obsidian設定の「新規ノートの作成場所」を `Calendar/inbox/` にする
  - Web Clipperの保存先も `Calendar/inbox/` にする

### A1. ちょい整形（任意 / 1〜3分）
- **目的**: 検索しやすい「1ノート」にする（移動しない）
- **コマンド**: `/optimize-tag-links`（タグ/リンクの最適化）
- **代替プロンプト**: `System/prompts/20250113_03_Input整形.md`

### A2. 週1の整理（必須 / 10〜30分）
- **目的**: `Calendar/inbox` を軽くして、Vault全体の構造を維持する

1) **提案だけ欲しい**（軽め）
- コマンド: `/inbox-review`
- 代替プロンプト: `System/prompts/20250113_03_Inputレビュー.md`

2) **移動まで実行する**（本番）
- コマンド: `/organize-input`
- 代替プロンプト: `System/prompts/20250113_03_Input整理.md`

3) **1ファイルをMemoryに昇華する**（価値が高い時だけ）
- コマンド: `/make-memory <ファイル名>`
- 代替プロンプト: `System/prompts/20250113_Memory-Note作成支援.md`

迷ったら:
- **残す** → `Calendar/inbox/`
- **捨てる/終了** → `Efforts/archived/`（または削除）

### A3. 追加の整備（任意）
- 孤立ノートのリンク候補: `/find-unlinked-notes`
- 薄いメモを退避: `/archive`


## フローB: 開発（入口: ~/Workspaces/projects）

### B0. 開始（開始位置）
- **ローカル（コード）**: `~/Workspaces/projects/<project>/`
- **Vault（運用ノート）**: `Efforts/<ProjectName>/`

固定化ポイント（推奨）:
- Vault側は `/project-init <ProjectName> active` で箱を作る
- `00-概要.md` に「ローカルRepoパス」「GitHub URL」を必ず書く

### B1. ローカルRepoを作る（最小）

推奨: 手作業ではなく `/dev-init` で作る（フォルダ作成 + 基本ファイル生成 + Git初期化までまとめて行う）。

```bash
/dev-init <project> [type]
```

（例外/理解用）手動で作るなら:

```bash
mkdir -p ~/Workspaces/projects/<project>
cd ~/Workspaces/projects/<project>

git init
# .gitignore / README.md を作る
```

置くもの（最小）:
- `README.md`（何のプロジェクトか）
- `.gitignore`（`node_modules/`, `dist/`, `.env` など）
- `CLAUDE.md`（Claude Code用ルール）
- `AGENTS.md`（Codex用ルール、必要なら）
- `samples/`（サンプル入力: CSV/Excel等。Git管理外を推奨）
- `deliverables/`（成果物出力: CSV/XLSX等。Git管理外を推奨）
- `.cursor/rules/`（Cursorに守らせたいルールがある時だけ）
- `.vscode/tasks.json`（claude/codex ターミナル起動の補助。ローカルでOK）

補足（テスト/プレイグラウンド）:
- テスト用途でGit管理しない場合は、`/dev-init <name> --no-git` を使う

### B2. 開発の回し方（おすすめの役割分担）
- **Claude Code（Cursor拡張）**: 設計/方針/大きめの変更/文章（意思決定ログ）
- **Codex（必要に応じて）**: 小さめの修正/検証/テスト実行の補助
- **Cursorのブラウザ/Preview**: Webの動作確認

### B2.5 Agent Skills（Codex / Cursor）
- 原本: `System/Skills/`
- 同期: `./System/Scripts/sync-codex-skills.sh`
- 反映先: `~/.codex/skills/`
- Cursor: Nightlyのみ対応（`Cmd+Shift+J` → Beta → Nightly）/ Cursor Settings → Rules → Import Settings → Agent Skills
- Cursor（安定版/無効時）: `.cursor/commands/` を使用（`codex-review`, `git-checkpoint`）

### B3. 反復ループ（毎回これ）
1) Vaultの `00-概要.md` を更新（目的/制約/次の一手）
2) 実装（Claude Code / Codex）
3) 動作確認（Cursorブラウザ + テスト）
4) チェックポイント（差分を固定）: `git-checkpoint` / `git add -p` → `git diff --staged`
5) Git commit（小さく、こまめに）
6) 引き継ぎ（必要時）: `handoff quick`（repo直下 `handoff.md` を更新）
   - 終了時: `wrapup`（推奨: `git add -p` → `endwork`）/ `endwork`（最小: `handoff.md` のみcommit）
   - 補助（任意）: [[../Documentation/引き継ぎ-開発作業]]（Claude Code: `dev-handoff`）

### B4. 終了（終わったら）
- Vault: `Efforts/archived/` に移動（必要なら）
- Repo: GitHubにpushしてバックアップ（Private推奨）

---

## 自動化について（どこまでやる？）

- **おすすめ（最小）**: 自動化しない。週1で `/organize-input` を回せば十分。
- **固定化しやすい自動化**:
  - Web Clipperの保存先を `Calendar/inbox/` に固定
  - Obsidianの「新規ノートの作成場所」を `Calendar/inbox/` に固定
- **「フォルダに入れた瞬間にコマンド実行」**は、Obsidian単体では標準機能としては難しいです。
  - 代替: iOS/ macOS のショートカット（共有→テンプレで作成）などで“入口の統一”を作る

---

## 次にやると良いこと（固定化の仕上げ）

- HOMEからこのページにすぐ飛べるようにする（リンク固定）
- Calendar/inboxの入口を1つにする（Web Clipper / 新規ノート作成場所）
- 新規プロジェクト用の `CLAUDE.md` / `AGENTS.md` テンプレを作る（必要になったら）
