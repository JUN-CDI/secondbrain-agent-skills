---
title: 運用ガイド-全体像
tags: [system, workflow]
created: 2025-12-15
---

# 運用ガイド-全体像

このVaultは「**考える/整理する（iCloudのObsidian）**」と「**作る/動かす（ローカルWorkspaces + Git）**」を分離して、迷わず回るように設計しています。

---

## 読むべきドキュメント（4つ）

運用を完全に理解するには、以下の4つを順番に読めばOKです:

| 順 | ドキュメント | 内容 |
|----|------------|------|
| 1 | **このファイル** | システム全体像・判断基準 |
| 2 | [[運用フロー-2つの動線]] | インプット/開発の具体的手順 |
| 3 | [[運用フロー-2本柱]] | 最短で回す運用（短縮版） |
| 4 | [[Claude-Code-Skills-Scripts]] | Skills/Scripts/Hooks自動化 |

このファイルで**基本を確認**し、詳細は残り3つで確認します。

### 詳細（埋め込み）
> 全体像の理解後、必要な範囲だけ展開して確認する。

![[System/Documentation/運用フロー-2つの動線]]
![[System/Workflows/運用フロー-2本柱]]
![[System/Documentation/Claude-Code-Skills-Scripts]]

### 補足資料（必要に応じて）
- [[.cursor/commands/README]] - 全コマンド詳細
- [[AgentSkills-運用案]] - Agent Skills運用案
- [[System/prompts/README]] - プロンプト集
- [[Claude-Code-Harness-運用]] - Harness（Claude CLI）を既存運用に載せる
- [[引き継ぎ-経過保存-トリガー]] - 引き継ぎ/経過保存のきっかけ（最小）

## 運用ドキュメントの整理ルール（増えすぎ防止）

運用ドキュメントは「役割」を固定し、迷いが出たらこの表に戻す。

| 種別 | 正本 | 使う場面 |
|------|------|----------|
| SSOT（入口） | **このファイル** | 判断基準・全体像を確認したい |
| Workflow（手順） | [[運用フロー-2つの動線]] | インプット/開発の手順を見返したい |
| Workflow（最短） | [[運用フロー-2本柱]] / [[minimal-weekly]] | 迷ったので最小の手順だけ回したい |
| Automation（自動化） | [[Claude-Code-Skills-Scripts]] | Skills/Scripts/Hooks を確認・変更したい |
| Parity（運用保証） | `System/Scripts/tool-parity-check.sh` | 入口（Skills/Commands/Terminal）の整合を確認したい |
| Handoff（ルール） | [[引き継ぎ-経過保存-トリガー]] / [[引き継ぎ-開発作業]] | 追記のタイミング・書き方を確認したい |
| Handoff（ログ / SSOT） | `handoff.md`（各repo直下） | ツール切替後、前回までの状態を復元したい |
| Change Log（運用更新） | [[System/Documentation/運用更新ログ]] | 運用ルールの更新履歴を確認したい |
| Reference（ツール） | [[.cursor/commands/README]] / [[System/prompts/README]] | コマンド/プロンプトを調べたい |
| Reference（設計） | [[プロジェクト素材-保存方針]] / [[Claude-Code-Harness-運用]] / [[AgentSkills-運用案]] | 置き場・運用設計の詳細を確認したい |
| Archive（過去/検討） | [[Forgeの運用再検討]] / [[2025-12-24-fork削除-2025-12-06-0847]] | 背景資料として必要なときだけ参照 |

ルール:
- **新しい運用ルール**は原則このファイルへ追記し、長くなる場合は該当のWorkflow/Automationへ逃がす
- **新しい運用ドキュメント**を増やした場合は、この表（または補足資料）に1行追加して迷子を防ぐ

---

## 0. まず結論（迷ったら）

- 思いついた瞬間のメモ → `Calendar/inbox/`
- 整理して“使えるノート”にした → `Calendar/inbox/`（整理済みでもOK）
- 今月〜今週だけ使う資料 → `Calendar/inbox/`
- 3ヶ月後も使う知識 → `Atlas/`
- 永続化する意思決定/パターン/注意点（SSOT） → `Atlas/意思決定.md` / `Atlas/パターン.md` / `Atlas/ガードレール.md`
- プロジェクト運用（企画/ログ/意思決定） → `Efforts/`
- 使い終わったら → `Efforts/archived/`

コードやアプリ本体はこのVaultに入れず、ローカルの `~/Workspaces/projects/` で管理します。

---

## 1. フォルダ全体構成（Vault）

```
Atlas          : 長期で使う知識（MOCで地図化）
Calendar       : 時間ベース（入口: inbox/）
Efforts        : <project>/（直下） / archived
System        : 運用/テンプレ/プロンプト/スクリプト/スキル/設定/ダッシュボード
attachments    : 添付ファイル
```

---

## 2. 運用サマリ（最小）

### インプット（随時/週1）
1. **入口の固定**: 思いついたら `Calendar/inbox/` に入れる
2. **週1の整理**: `/organize-input` で振り分け
3. **振り分け先**:
   - 3ヶ月後も見る → `Atlas/`
   - 重要な観測は昇格（SSOT） → `Atlas/意思決定.md` / `Atlas/パターン.md` / `Atlas/ガードレール.md`
   - プロジェクト運用 → `Efforts/`
   - 使い終わり → `Efforts/archived/`

### 開発（プロジェクト）
覚えるのはこれだけ（最小）:
- **新規作成**: `/dev-init`
- **切替/中断**: `handoff quick`（Nextだけ）
- **終了（最小）**: `endwork`（`handoff.md` だけcommit）
- **終了（推奨・品質）**: `wrapup`（`git add -p` → `endwork`）

1. **ローカル開始**: `/dev-init` を実行（`~/Workspaces/projects/<project>/` の作成 + 基本ファイル生成 + Git初期化（デフォルト））
2. **Vault連携**: `/project-init` → `00-概要.md` にRepoパス記載
3. **実装**: Claude Code / Codex を使って変更
4. **差分固定（任意・品質）**: `git-checkpoint`（Skill）または `git add -p` → `git diff --staged`
5. **差分レビュー（任意・品質）**: `diff-review`（Skill）または Codexのレビュー（対象は基本 `git diff --staged`）
6. **引き継ぎ（切替/終了時）**: repo直下 `handoff.md` を更新（`handoff quick` / `endwork`）。`dev-handoff` / `docs/HANDOFF.md` は任意の補助。

詳細は上の埋め込みドキュメントで確認する（必要な部分だけでOK）。

補足:
- `/dev-init` はデフォルトでGit初期化を行う（対話時は確認あり）
- テスト/プレイグラウンド用途でGit不要なら `--no-git` を付ける

---

## 3. 週次/月次（最小チェックリスト）

### 週次（10分）
- `Calendar/inbox/` を全件確認 → 10件以下にする
- 重要ノートを `Atlas/` に移動し、必要ならMOCへ追加
- `Efforts/*/00-概要.md`（`archived/` 除く）の「次の一手」を1行更新
- 翌週のTop 3を `Calendar/inbox/今週の焦点.md` に書く

### 月次（30-60分）
- `Atlas/` のMOC更新（新規ノートのリンク整理）
- 完了プロジェクトを `Efforts/archived/` へ移動（必要なら）
- テンプレ/コマンド/運用ルールの棚卸し
- 運用更新ログへ記録（保存先: `System/Documentation/運用更新ログ.md`）

---

## 7. AIの使い方（最低限）

### ツール別の使い分け（最小）
- **Cursor（Nightly + Agent Skills）**: IDE（編集/検索/統合ターミナル）。Vault整理・Repo実装どちらもOK（安定版/無効時は `.cursor/commands/` をフォールバック）
- **Claude Code（CLI/Harness）**: ターミナルで自動化（Skills/引き継ぎ/一括処理）。統合ターミナルから実行すればOK
- **Codex**: 差分レビュー・小修正・別視点チェック（拡張/CLIどちらでも）
- **使い分け基準**: 「作業場所（Vault/Repo）」×「目的（整理/実装/レビュー/自動化）」

### 共通ルール
- 開発はローカルRepoで開始（`~/Workspaces/projects/`）
- Claude Codeのルールは `CLAUDE.md` が正本（`AGENTS.md` はCodex用）
- Agent Skillsは `System/Skills/` を原本にして運用（Claude Code: `sync-claude-skills.sh` → `~/.claude/skills/`、Codex: `sync-codex-skills.sh` → `~/.codex/skills/`）
- 新規Skill/コマンド追加時は `tool-parity`（`tool-parity-check.sh`）で入口整合を確認
- `handoff` / `endwork` が無い場合は、最初に `install-handoff.sh` を1回だけ実行してPATHに入れる
- 差分の基本: `git add -p` → `git diff --staged`
- 引き継ぎが必要なとき: `handoff` / `endwork`（SSOT: repo直下 `handoff.md`）＋必要なら [[引き継ぎ-開発作業]] / `dev-handoff`
- 運用の最新化チェック: `ops-maintenance`（公式情報を確認→運用を更新、SessionStartで30日超えをリマインド）

---

## 8. 2つの運用動線（概要）

- **インプット**: キャプチャ → `Calendar/inbox` → 整形 → 振り分け
- **開発**: `/dev-init` → `Workspaces/projects` → 開発 → Git

詳細: [[System/Documentation/運用フロー-2つの動線]]

---

## 🔗 関連（迷ったら）
- [[System/Dashboards/🏠-HOME]]
- [[System/Workflows/運用フロー-2本柱]]
- [[System/Workflows/minimal-weekly]]
- [[System/prompts/00_最小運用-回し方]]
