{
  "permissions": {
    "allow": [
      "Edit(/Users/donaichu/Library/Mobile Documents/iCloud~md~obsidian/Documents/SecondBrain/**)",
      "Edit(/Users/donaichu/Workspaces/**)",
      "Edit(/Users/donaichu/Library/CloudStorage/OneDrive-å€‹äººç”¨/Finals/**)",
      "Bash(tree:*)",
      "Bash(du:*)",
      "Bash(rm:*)",
      "Bash(git fetch:*)",
      "Bash(git push:*)",
      "Bash(cat:*)",
      "Bash(chmod:*)",
      "Bash(mv:*)",
      "Bash(mkdir:*)",
      "Bash(gh:*)",
      "Bash(wc:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(xxd:*)",
      "Bash(node --check:*)",
      "Skill(dev-handoff)",
      "Skill(ops-maintenance)",
      "Bash(~/.claude/ops-maintenance.last)",
      "Bash(done)",
      "Bash(find:*)",
      "Bash(sort:*)",
      "Bash(ls:*)",
      "Skill(project-scaffold)",
      "Skill(project-scaffold:*)",
      "Bash(python3 -m py_compile:*)",
      "Bash(claude plugin --help:*)",
      "Bash(claude plugin marketplace add Chachamaru127/claude-code-harness)",
      "Bash(claude plugin install:*)",
      "Bash(claude:*)",
      "Bash(xattr:*)",
      "Bash(chflags nohidden:*)",
      "Bash(git pull:*)",
      "WebSearch",
      "Bash(git init:*)",
      "Bash(source venv/bin/activate)",
      "Bash(streamlit run:*)",
      "Bash(pkill:*)",
      "Skill(claude-code-harness:optional:cleanup)",
      "Bash(cd:*)",
      "Bash(node:*)",
      "Bash(docker --version:*)",
      "Bash(python3 -m venv:*)",
      "Bash(source .venv/bin/activate)",
      "Bash(pip install:*)",
      "Bash(python:*)",
      "Bash(curl:*)",
      "Bash(open -a Docker:*)",
      "Bash(python3:*)",
      "Bash(brew install:*)",
      "Bash(brew list:*)",
      "Bash(hdiutil attach:*)",
      "Bash(hdiutil detach:*)",
      "Bash(open:*)",
      "Bash(/Applications/Docker.app/Contents/Resources/bin/docker --version)",
      "Bash(/Applications/Docker.app/Contents/Resources/bin/docker info:*)",
      "Bash(echo:*)",
      "Bash(export PATH=\"/Applications/Docker.app/Contents/Resources/bin:$PATH\")",
      "Bash(docker compose:*)",
      "Bash(alembic revision:*)",
      "Bash(alembic upgrade:*)",
      "Bash(npm install)",
      "Bash(grep:*)",
      "Bash(for file in app/models/*.py)",
      "Bash(do sed -i '' 's/from app\\\\.db\\\\.base import Base/from app.db.base_class import Base/g' \"$file\")",
      "Bash(PGPASSWORD=postgres psql:*)",
      "Bash(pip show:*)"
    ]
  },
  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "echo 'ðŸ“‚ SecondBrain Vault session started at $(date)' >> ~/.claude/session.log"
          },
          {
            "type": "command",
            "command": "ts_file=$HOME/.claude/ops-maintenance.last; now=$(date +%s); last=0; if [ -f $ts_file ]; then last=$(cat $ts_file || echo 0); fi; if [ $((now-last)) -gt 2592000 ]; then echo \"âš ï¸ ops-maintenance: last run >30d. Run 'ops-maintenance'.\"; fi"
          },
          {
            "type": "command",
            "command": "bash \"$HOME/Library/Mobile Documents/iCloud~md~obsidian/Documents/SecondBrain/System/Scripts/session-init-mem.sh\" 2>/dev/null || true"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "jq -r '.tool_input.file_path // empty' | { read f; [ -n \"$f\" ] && echo \"$(date +%Y-%m-%d\\ %H:%M:%S) Modified: $f\" >> ~/.claude/file-changes.log || true; }"
          },
          {
            "type": "command",
            "command": "cd \"$HOME/Library/Mobile Documents/iCloud~md~obsidian/Documents/SecondBrain\" && bash System/Scripts/git-stage-ops.sh 2>/dev/null || true"
          }
        ]
      },
      {
        "matcher": "TodoWrite",
        "hooks": [
          {
            "type": "command",
            "command": "cd \"$HOME/Library/Mobile Documents/iCloud~md~obsidian/Documents/SecondBrain\" && bash System/Scripts/git-stage-ops.sh 2>/dev/null || true"
          }
        ]
      }
    ]
  }
}
